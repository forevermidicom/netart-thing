<!--
netart thing is designed and programmed by forevermidi.com plus various AIs.
Released under the Creative Commons CC0 1.0 Universal License.
-->
v2.7 beta
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>netart thing</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Brush+Script+MT&display=swap');
@import url('https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fuggles&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Old+Standard+TT&display=swap');
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:"MS Sans Serif", Arial, sans-serif;background:linear-gradient(45deg,#ff69b4,#8a2be2,#add8e6,#ff69b4);background-size:400% 400%;animation:psychedelic 10s ease infinite;overflow:hidden;user-select:none}
@keyframes psychedelic{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.desktop{position:relative;width:100vw;height:100vh;overflow:hidden;filter:none}
.window{position:absolute;border:1px solid #003c74;border-top-left-radius:8px;border-top-right-radius:8px;background:#a0a0a0;box-shadow:2px 2px 4px rgba(0,0,0,.5);z-index:10;transform:scale(.72);transform-origin:top left}
.window-bar{background-image:linear-gradient(to right,#0054e3,#27a9e3);color:white;padding:2px 6px;font-size:12px;font-weight:bold;cursor:move;display:flex;justify-content:space-between;align-items:center;border-top-left-radius:8px;border-top-right-radius:8px;text-shadow:1px 1px #000}
.close-btn{background:#a0a0a0;border:1px solid #7f7f7f;width:18px;height:18px;font-size:12px;cursor:pointer;color:#000;box-shadow:inset 1px 1px #fff,inset -1px -1px #808080;border-radius:2px;font-weight:bold;display:flex;align-items:center;justify-content:center}
.close-btn:hover{background:#ff6f6f;border:1px solid #ff0000;color:#fff}
.window-content{border-right:1px solid #7f7f7f;border-left:1px solid #7f7f7f;border-bottom:1px solid #7f7f7f;background:#a0a0a0;overflow:hidden;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}
.window-content img,.window-content iframe,.window-content canvas{display:block;width:100%;height:auto}
.window-content p{font-family:'MS Sans Serif',Arial,sans-serif;font-size:16px;padding:10px;text-align:center;font-weight:bold}
.window-content textarea, .window-content select, .window-content button {user-select: auto; -webkit-user-select: text;}
.cursor{position:absolute;width:16px;height:16px;background:url('https://win98icons.alexmeub.com/cursors/Arrow.cur') no-repeat;pointer-events:none;animation:float 5s infinite ease-in-out;opacity:.7}
@keyframes float{0%{transform:translate(0,0)}50%{transform:translate(20px,20px)}100%{transform:translate(0,0)}}
.cursor:nth-child(2){animation-delay:1s}
.cursor:nth-child(3){animation-delay:2s}
.cursor:nth-child(4){animation-delay:3s}
.moving-pointer{position:fixed;width:16px;height:16px;background:url('https://win98icons.alexmeub.com/cursors/Arrow.cur') no-repeat;pointer-events:none;z-index:100;filter:drop-shadow(0 0 5px #00ffff)}
.icon{position:absolute;padding:5px;background:transparent;border:none;cursor:pointer;width:80px;text-align:center;animation:floatIcon 1.5s infinite ease-in-out;transform:scale(.9);transform-origin:top left}
.icon svg{display:block;margin:0 auto 4px;width:56px;height:56px}
.icon span{display:block;font-size:12px;font-weight:bold;color:#000;text-shadow:1px 1px 1px #fff}
.icon img {
    max-width: 40px;
    max-height: 40px;
}
@keyframes floatIcon{0%{transform:translate(0,0)}50%{transform:translate(30px,-30px)}100%{transform:translate(0,0)}}
@keyframes rotatePalm{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
.rotating-palm{animation:rotatePalm 5s linear infinite}
.taskbar{position:fixed;bottom:0;width:100%;height:28px;background:#245edb;border-top:1px solid #e7f5ff;display:flex;align-items:center;padding:0 5px;z-index:20;box-shadow:0 -2px 5px rgba(0,0,0,.3)}
.start-button{background:#a3b29c;border:1px solid #a3b29c;border-right:1px solid #7a8276;border-bottom:1px solid #7a8276;padding:2px 8px;font-size:12px;cursor:pointer;color:#fff;font-weight:bold;border-radius:4px;box-shadow:inset 0 1px 0 rgba(255,255,255,.5),inset 0 -1px 0 rgba(0,0,0,.1);text-shadow:1px 1px 1px rgba(0,0,0,.3);transition:background-color .2s}
.start-button:active{background:#7a8276;box-shadow:inset 0 1px 0 rgba(0,0,0,.1),inset -1px -1px 0 rgba(255,255,255,.5)}
.clock{margin-left:auto;font-size:12px;padding:2px 6px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);color:#fff;border-radius:3px}
.ascii-content{font-family:'Courier New',Courier,monospace;font-size:10px;color:#000;background:#a0a0a0}
.ascii-content pre{margin:0;padding:10px;white-space:pre}
marquee{font-family:'MS Sans Serif',Arial,sans-serif;font-size:24px;color:#ff00ff;-webkit-text-stroke:1px #000;text-transform:uppercase;padding-top:25px}
.repo-link-window .window-content p{font-size:14px;text-align:center;padding:10px}
.repo-link-window .window-content a{color:#0000ff;text-decoration:underline;font-weight:bold;display:block;text-align:center;padding-bottom:10px}
.blue-screen{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000aa;color:#fff;z-index:10000;display:none;justify-content:center;align-items:center;flex-direction:column;padding:20px;font-family:'Courier New',Courier,monospace;font-size:18px;line-height:1.5;filter:none;text-align:center}
.blue-screen h1, .blue-screen p, .blue-screen pre {
    z-index: 10001;
}
.blue-screen pre {
    font-size: 14px;
}
.black-screen{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000;color:#fff;z-index:10000;display:none;justify-content:center;align-items:center;flex-direction:column;padding:20px;font-family:'Courier New',Courier,monospace;font-size:18px;line-height:1.5;filter:none;text-align:center}
.black-screen pre{font-size:14px;color:#0f0}
.color-rotation-window{animation:color-rotate 5s linear infinite}
@keyframes color-rotate{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(360deg)}}
.forevermidi-link{position:absolute;z-index:2;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(255,255,255,.85);padding:6px 10px;border-radius:6px;box-shadow:0 0 8px rgba(0,0,0,.2)}
.forevermidi-link a{font-family:'MS Sans Serif',Arial,sans-serif;font-weight:bold;color:#0000ff;text-decoration:underline}
.surprise-style{background:linear-gradient(135deg,#fff0f5,#e6f7ff);color:#000;text-align:center;padding:10px;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}
.joke-window {
    background: none;
    border: none;
    box-shadow: none;
}
.joke-window .window-content {
    background: #000;
    color: #0f0;
}
@keyframes blink-animation {
    from, to { color: transparent }
    50% { color: #ff0000; }
}
.blinking-cursor {
    font-weight: 100;
    font-size: 1em;
    color: #ff0000;
    -webkit-animation: 1s blink-animation step-end infinite;
    -moz-animation: 1s blink-animation step-end infinite;
    -ms-animation: 1s blink-animation step-end infinite;
    -o-animation: 1s blink-animation step-end infinite;
    animation: 1s blink-animation step-end infinite;
}
.lambrusco-effect {
    animation: drunk 0.5s infinite;
}
@keyframes drunk {
    0% { transform: translate(0, 0) rotate(0deg); }
    25% { transform: translate(-5px, 5px) rotate(2deg); }
    50% { transform: translate(5px, -5px) rotate(-2deg); }
    75% { transform: translate(-5px, -5px) rotate(2deg); }
    100% { transform: translate(5px, 5px) rotate(-2deg); }
}
.lambrusco-background {
    background-color: #ff0000;
    animation: none;
}
#taskbar-message {
    margin-left: 10px;
    color: #fff;
    font-weight: bold;
    font-size: 14px;
    text-shadow: 1px 1px 1px #000;
}
.lambrusco-text {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-family: 'Old Standard TT', serif;
    font-size: 10vw;
    color: #ff0000;
    text-shadow: 5px 5px 10px rgba(0,0,0,0.5);
    z-index: 1000;
    animation: blink-animation 1s step-start infinite;
    display: none;
}
.fixed-icon {
    position: fixed !important;
    top: 10px;
    left: 10px;
    z-index: 2000;
    animation: none;
    background-color: transparent;
    border: none;
    box-shadow: none;
}
.fixed-icon-2 {
    position: fixed !important;
    top: 110px;
    left: 10px;
    z-index: 2000;
    animation: none;
    background-color: transparent;
    border: none;
    box-shadow: none;
}
.fixed-icon-3 {
    position: fixed !important;
    top: 210px;
    left: 10px;
    z-index: 2000;
    animation: none;
    background-color: transparent;
    border: none;
    box-shadow: none;
}
.fixed-icon-4 {
    position: fixed !important;
    top: 310px;
    left: 10px;
    z-index: 2000;
    animation: none;
    background-color: transparent;
    border: none;
    box-shadow: none;
}
.fixed-icon-5 {
    position: fixed !important;
    top: 410px;
    left: 10px;
    z-index: 2000;
    animation: none;
    background-color: transparent;
    border: none;
    box-shadow: none;
}
.fixed-icon img, .fixed-icon-2 img, .fixed-icon-3 img, .fixed-icon-4 img, .fixed-icon-5 img {
    border: none;
    box-shadow: none;
    width: 40px;
    height: 40px;
}
.glitch-filter {
    filter: url(#glitch);
}
@keyframes shake {
    0% { transform: translate(0, 0); }
    25% { transform: translate(5px, 5px); }
    50% { transform: translate(-5px, -5px); }
    75% { transform: translate(5px, -5px); }
    100% { transform: translate(-5px, 5px); }
}
.shake-effect {
    animation: shake 0.2s infinite;
}
.glitch-trail {
    position: absolute;
    opacity: 0.8;
    z-index: 9;
    filter: url(#glitch);
}
.restart-button {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    background-color: #a0a0a0;
    border: 2px solid #fff;
    color: #000;
    text-shadow: none;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.5);
}
.restart-button:hover {
    background-color: #b0b0b0;
}
.trail {
    position: absolute;
    pointer-events: none;
    z-index: 5;
    opacity: 0.3;
    transition: opacity 3s;
    background: transparent;
}
textarea#prompt-input {
    width: 100%;
    height: 100px;
    font-family: 'MS Sans Serif', Arial, sans-serif;
    padding: 10px;
    resize: none;
    margin-bottom: 10px;
    border: 1px solid #999;
    border-radius: 4px;
    background: #f0f0f0;
    color: #000;
    -webkit-appearance: none;
}
label, select, button { margin-top: 5px; }
button#generate-btn, button#download-btn {
    padding: 8px 16px;
    font-size: 14px;
    cursor: pointer;
    border-radius: 4px;
    border: 1px solid #0054e3;
    background-color: #27a9e3;
    color: white;
}
button#generate-btn:hover, button#download-btn:hover {
    background-color: #0054e3;
}
canvas#image-output {
    max-width: 100%;
    max-height: 400px;
    margin-top: 15px;
    border: 1px solid #0f0;
    display: none;
    border-radius: 4px;
    filter: contrast(1.5) grayscale(0.8) hue-rotate(90deg);
}
#spinner {
    display: none;
    margin: 15px auto;
    border: 4px solid #444;
    border-top: 4px solid #27a9e3;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    animation: spin 1s linear infinite;
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
p#status-message {
    margin-top: 10px;
    font-size: 13px;
    color: #0f0;
    min-height: 20px;
    text-align: center;
}
</style>
</head>
<body>
<div class="desktop">
<div class="window repo-link-window" id="repo-window" style="left: 280px; top: 10px; width: 300px; height: 120px;">
<div class="window-bar"><span>netart-thing</span><button class="close-btn">x</button></div>
<div class="window-content">
<p>Feeling creative? This is an open-source project. Feel free to modify the code and contribute!</p>
<a href="https://github.com/forevermidicom/netart-thing" target="_blank">https://github.com/forevermidicom/netart-thing</a>
</div>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>tipe che se la tirano e non sono un granché</span>
</div>
<div class="icon xp fixed-icon" id="lambrusco-icon">
<img src="https://icons.iconarchive.com/icons/franksouza183/fs/256/Apps-wine-icon.png" alt="Lambrusco Mantovano">
<span>Lambrusco Mantovano.exe</span>
</div>
<a class="icon xp fixed-icon-2" id="forevermidi-icon" href="https://forevermidi.com" target="_blank">
    <img src="https://icons.iconarchive.com/icons/custom-icon-design/pretty-office-8/256/Link-icon.png" alt="Forevermidi">
    <span>forevermidi.com</span>
</a>
<div class="icon xp fixed-icon-3" id="shred-icon">
    <img src="https://icons.iconarchive.com/icons/oxygen-icons.org/oxygen/256/Actions-edit-delete-shred-icon.png" alt="Shredder">
    <span>shred.exe</span>
</div>
<div class="icon xp fixed-icon-4" id="joke-icon">
    <img src="https://icons.iconarchive.com/icons/oxygen-icons.org/oxygen/256/Actions-view-conversation-balloon-icon.png" alt="Joke Messages">
    <span>The M3ss3ng3r.app</span>
</div>
<div class="icon xp fixed-icon-5" id="txt2img-icon">
    <img src="https://icons.iconarchive.com/icons/gianni-polito/colobrush/256/brush-icon.png" alt="TXT2IMG Icon">
    <span>TXT2IMG.app</span>
</div>
<div class="window" id="IDK" style="left: 600px; top: 200px; width: 200px; height: 100px;">
<div class="window-bar"><span>IDK</span><button class="close-btn">x</button></div>
<div class="window-content">
<img src="https://media.mastodon.cloud/accounts/avatars/000/006/818/original/be907d09b9dea2a0.png" onerror="this.src='https://win98icons.alexmeub.com/icons/png/folder-0.png'"/>
</div>
</div>
<div class="window" id="meat-window" style="left: 980px; top: 10px; width: 300px; height: 65px;">
<div class="window-bar"><span>💡</span><button class="close-btn">x</button></div>
<div class="window-content"><p>meat is murder.</p></div>
</div>
<div class="window" style="left:450px; top:60px; width:350px; height:250px;">
<div class="window-bar"><span>怪奇フォト</span><button class="close-btn">x</button></div>
<div class="window-content"><img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExNG0yeHc3cDBmZmFtZzRwOTQxbHY1MjFndGtmeWpmNm1oY3FzNjFncyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/Xr9TlAqw3S7VPOrftK/giphy.gif" onerror="this.src='https://win98icons.alexmeub.com/icons/png/folder-0.png'"/></div>
</div>
<div class="window" style="left:840px; top:60px; width:350px; height:250px;">
<div class="window-bar"><span>怪奇フォト</span><button class="close-btn">x</button></div>
<div class="window-content"><img src="https://miro.medium.com/v2/resize:fit:720/format:webp/0*rLX0T77b5Qpo_MZ7.jpg" onerror="this.src='https://win98icons.alexmeub.com/icons/png/folder-0.png'"/></div>
</div>
<div class="window" style="left:60px; top:350px; width:350px; height:250px;">
<div class="window-bar"><span>トロピカル</span><button class="close-btn">x</button></div>
<div class="window-content"><img src="https://www.boredpanda.com/blog/wp-content/uploads/2024/01/CQROdKTNFFe-png__700.jpg" onerror="this.src='https://win98icons.alexmeub.com/icons/png/folder-0.png'"/></div>
</div>
<div class="window" style="left:450px; top:350px; width:350px; height:250px;">
<div class="window-bar"><span>Lunetta me genuit</span><button class="close-btn">x</button></div>
<div class="window-content"><img src="https://www.lombardiabeniculturali.it/assets/immagini/liv1/AC310RL/SC/AC/p3010/00/AC_p3010-00253_IMG-0000043969.jpg" onerror="this.src='https://win98icons.alexmeub.com/icons/png/folder-0.png'"/></div>
</div>
<div class="window" style="left:840px; top:350px; width:350px; height:250px;">
<div class="window-bar"><span>無限猫ループ</span><button class="close-btn">x</button></div>
<div class="window-content"><img src="https://dogemuchwow.com/wp-content/uploads/2019/03/man-shark-trans.jpg" onerror="this.src='https://win98icons.alexmeub.com/icons/png/folder-0.png'"/></div>
</div>
<div class="window" style="left:60px; top:650px; width:350px; height:125px;">
<div class="window-bar"><span>tol in dal cool</span><button class="close-btn">x</button></div>
<div class="window-content"><img src="https://i0.wp.com/www.8bitmammoth.com/wp-content/uploads/2010/03/-Media-Player-encountered-a-problem.png?w=448&ssl=1" onerror="this.src='https://win98icons.alexmeub.com/icons/png/folder-0.png'"/></div>
</div>
<div class="window" style="left:450px; top:650px; width:350px; height:250px;">
<div class="window-bar"><span>Camera Giardino Live 🔴</span><button class="close-btn">x</button></div>
<div class="window-content"><img src="https://thunderdungeon.com/wp-content/uploads/2023/11/cursed-ai-memes-5-11-23-2023.jpg" onerror="this.src='https://win98icons.alexmeub.com/icons/png/folder-0.png'"/></div>
</div>
<div class="window" id="cursed-3" style="left:840px; top:650px; width:400px; height:250px;">
<div class="window-bar"><span>just dont</span><button class="close-btn">x</button></div>
<div class="window-content"><img src="https://play-lh.googleusercontent.com/wWPjmvVnXNY9ha1YHgVlqAv1F14aoRcRmGxYDTZa0R-RL7f6z7Q7svOHwLGF4MppRp8=w240-h480-rw" alt="Cursed image" onerror="this.src='https://win98icons.alexmeub.com/icons/png/folder-0.png'"/></div>
</div>
<div class="window color-rotation-window" style="left:1230px; top:60px; width:350px; height:250px;">
<div class="window-bar"><span>4real.txt</span><button class="close-btn">x</button></div>
<div class="window-content ascii-content">
<pre>

</pre>
</div>
</div>
<div class="window" style="left:1230px; top:350px; width:350px; height:85px;">
<div class="window-bar"><span>* *</span><button class="close-btn">x</button></div>
<div class="window-content">
<marquee behavior="scroll" direction="left" scrollamount="10">⭐__𝓕 𝓞 𝓡 𝓩 𝓐____𝓘 𝓝 𝓣 𝓔 𝓡__⭐    🖤💙</marquee>
</div>
</div>
<div class="window" style="left:1230px; top:650px; width:350px; height:250px;">
<div class="window-bar"><span>dfhdtyhert.gif</span><button class="close-btn">x</button></div>
<div class="window-content"><img src="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExaGlsY2h0bnE0djVzMHExeWE3dnhsMzA4cnVpb2ZxbTl1NnU5OGdycyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/VGuRVmURuvodU8bPbf/giphy.gif" alt="Vaporwave GIF"></div>
</div>
<div class="cursor"></div>
<div class="cursor"></div>
<div class="cursor"></div>
<div class="cursor"></div>
<div id="moving-pointer" class="moving-pointer"></div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>tipe che se la tirano e non sono un granché</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>Communism</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>rubentus</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/wwalczyszyn/android-style/256/Trash-full-icon.png" alt="Recycle Bin">
<span>animal abuse</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>ac milan</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>Marx</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>Putin</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>full monty</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>Justin Bieber</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>maximalism</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>marxism</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>U2</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>Bob Dylan</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>musicals</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>uk accent</span>
</div>
<div class="icon xp" style="top: 600px; left: 10px;">
<img src="https://icons.iconarchive.com/icons/dtafalonso/modern-xp/256/ModernXP-76-Trash-Full-icon.png" alt="Recycle Bin">
<span>Panariello</span>
</div>
<div class="window" style="left: 10px; top: 300px; width: 250px; height: 150px;">
<div class="window-bar"><span>Che ne so</span><button class="close-btn">x</button></div>
<div class="window-content"><img src="https://i.imgur.com/2U54FpB.jpg"/></div>
</div>
<div class="taskbar">
<button class="start-button">Start</button>
<div id="taskbar-message"></div>
<div class="clock" id="clock"></div>
</div>
</div>
<svg style="position:absolute;width:0;height:0">
<filter id="glitch">
<feTurbulence type="fractalNoise" baseFrequency="0.05" numOctaves="3" result="noise"></feTurbulence>
<feDisplacementMap in="SourceGraphic" in2="noise" scale="15"></feDisplacementMap>
</filter>
</svg>
<div id="black-screen" class="black-screen">
<pre>
</pre>
<button class="restart-button">RESTART</button>
</div>
<div id="lambrusco-text" class="lambrusco-text">IT'S LAMBRUSCO TIME</div>
<script>
const desktop = document.querySelector('.desktop');
const startButton = document.querySelector('.start-button');
const windowsNodeList = document.querySelectorAll('.window');
const icons = document.querySelectorAll('.icon');
const blueScreen = document.getElementById('blue-screen');
const blackScreen = document.getElementById('black-screen');
const cursedImage3 = document.getElementById('cursed-3');
const lambruscoIcon = document.getElementById('lambrusco-icon');
const forevermidiIcon = document.getElementById('forevermidi-icon');
const shredIcon = document.getElementById('shred-icon');
const jokeIcon = document.getElementById('joke-icon');
const txt2imgIcon = document.getElementById('txt2img-icon');
const taskbarMessage = document.getElementById('taskbar-message');
const lambruscoText = document.getElementById('lambrusco-text');
const fixedIcons = document.querySelectorAll('.fixed-icon, .fixed-icon-2, .fixed-icon-3, .fixed-icon-4, .fixed-icon-5');
const restartButtons = document.querySelectorAll('.restart-button');
let timeRemaining = 300;
let isTyping = false;
const cursor = '<span class="blinking-cursor">|</span>';

function createWindowCopy(win) {
    const copy = win.cloneNode(true);
    copy.style.position = 'absolute';
    copy.style.left = (parseInt(win.style.left) || win.offsetLeft) + 'px';
    copy.style.top = (parseInt(win.style.top) || win.offsetTop) + 'px';
    copy.style.width = win.style.width;
    copy.style.height = win.style.height;
    copy.style.zIndex = '-1';
    copy.style.opacity = '0.9';
    copy.classList.remove('glitch-trail');
    desktop.appendChild(copy);
    setTimeout(() => {
        copy.style.transition = 'opacity 30s ease-out';
        copy.style.opacity = '0';
        setTimeout(() => copy.remove(), 30000);
    }, 10);
}

function createGlitchTrail(win) {
    const trail = win.cloneNode(true);
    trail.classList.add('glitch-trail');
    trail.style.left = win.style.left;
    trail.style.top = win.style.top;
    trail.style.width = win.style.width;
    trail.style.height = win.style.height;
    trail.style.zIndex = '9';
    desktop.appendChild(trail);
    setTimeout(() => {
        trail.style.transition = 'opacity 5s ease-out';
        trail.style.opacity = '0';
        setTimeout(() => trail.remove(), 5000);
    }, 100);
}

function createGreenTrail(win) {
    const trail = document.createElement('div');
    trail.className = 'trail';
    trail.style.width = win.style.width;
    trail.style.height = win.style.height;
    trail.style.left = win.style.left;
    trail.style.top = win.style.top;
    trail.style.border = '2px solid #0f0';
    desktop.appendChild(trail);
    setTimeout(() => { trail.style.opacity = '0'; }, 10);
    setTimeout(() => { trail.remove(); }, 3000);
}

function moveWindow(win) {
    let posX = parseInt(win.style.left) || win.offsetLeft || 0;
    let posY = parseInt(win.style.top) || win.offsetTop || 0;
    let velX = (Math.random() - 0.5) * 2;
    let velY = (Math.random() - 0.5) * 2;
    let isMoving = false; // Start with movement off

    function update() {
        if (!isMoving || win.classList.contains('blinking')) {
            return;
        }
        posX += velX;
        posY += velY;
        const scaledWidth = parseInt(win.style.width) * 0.72; // Account for window scale
        const scaledHeight = parseInt(win.style.height) * 0.72;
        if (posX < 0 || posX > window.innerWidth - scaledWidth) velX = -velX;
        if (posY < 0 || posY > window.innerHeight - scaledHeight) velY = -velY;
        win.style.left = posX + 'px';
        win.style.top = posY + 'px';
        requestAnimationFrame(update);
    }

    win.startMoving = () => {
        isMoving = true;
        update();
    };

    win.stopMoving = () => {
        isMoving = false;
    };
}

const insideJokes = [];

function createJokeWindow() {
    if (isTyping) return;
    isTyping = false;

    const jokeWin = document.createElement('div');
    jokeWin.className = 'window joke-window';
    const w = 300;
    const h = 100;
    jokeWin.style.width = w + 'px';
    jokeWin.style.height = h + 'px';
    jokeWin.style.left = (window.innerWidth / 2 - w / 2) + 'px';
    jokeWin.style.top = (window.innerHeight / 2 - h / 2) + 'px';
    jokeWin.style.zIndex = 2000;
    jokeWin.innerHTML = `<div class="window-bar"><span>The M3ss3ng3r</span><button class="close-btn">x</button></div><div class="window-content"><p id="jokes-output"></p></div>`;

    desktop.appendChild(jokeWin);
    attachWindowInteractions(jokeWin);
    moveWindow(jokeWin);
    jokeWin.startMoving();

    const jokeOutput = jokeWin.querySelector('#jokes-output');
    const message = insideJokes[Math.floor(Math.random() * insideJokes.length)] || 'No jokes available!';
    
    let charIndex = 0;
    const typeWriter = setInterval(() => {
        jokeOutput.textContent = message.substring(0, charIndex + 1);
        charIndex++;
        if (charIndex === message.length) {
            clearInterval(typeWriter);
            jokeOutput.innerHTML += cursor;
            isTyping = false;
        }
    }, 50);
}

function createTxt2ImgWindow() {
    const win = document.createElement('div');
    win.id = 'txt2img-window';
    win.className = 'window';
    const isMobile = window.innerWidth < 768;
    const w = isMobile ? 320 : 600;
    const h = isMobile ? 400 : 600;
    win.style.width = w + 'px';
    win.style.height = h + 'px';
    win.style.left = (window.innerWidth / 2 - w / 2) + 'px';
    win.style.top = (window.innerHeight / 2 - h / 2) + 'px';
    win.style.zIndex = 2000;
    win.innerHTML = `
        <div class="window-bar"><span>TXT2IMG</span><button class="close-btn">x</button></div>
        <div class="window-content">
            <textarea id="prompt-input" placeholder="Enter your prompt"></textarea>
            <label for="orientation">Orientation:</label>
            <select id="orientation">
                <option value="square">Square</option>
                <option value="landscape">Landscape</option>
                <option value="portrait">Portrait</option>
            </select>
            <label for="img-size">Size:</label>
            <select id="img-size"></select>
            <button id="generate-btn">Generate</button>
            <div id="spinner"></div>
            <canvas id="image-output"></canvas>
            <button id="download-btn" style="display:none;">Download Image</button>
            <p id="status-message"></p>
        </div>
    `;
    desktop.appendChild(win);
    attachWindowInteractions(win);
    moveWindow(win); // Initialize movement functions but don't start moving

    const promptInput = win.querySelector('#prompt-input');
    const orientationSelect = win.querySelector('#orientation');
    const sizeSelect = win.querySelector('#img-size');
    const generateBtn = win.querySelector('#generate-btn');
    const spinner = win.querySelector('#spinner');
    const imageOutput = win.querySelector('#image-output');
    const downloadBtn = win.querySelector('#download-btn');
    const statusMessage = win.querySelector('#status-message');
    const ctx = imageOutput.getContext('2d');

    function updateSizes() {
        sizeSelect.innerHTML = '';
        let options = [];
        if (orientationSelect.value === 'square') {
            options = ['256x256', '512x512', '1024x1024'];
        } else if (orientationSelect.value === 'landscape') {
            options = ['320x180', '640x360', '1024x576'];
        } else if (orientationSelect.value === 'portrait') {
            options = ['180x320', '360x640', '576x1024'];
        }
        options.forEach(opt => {
            const option = document.createElement('option');
            option.value = opt;
            option.textContent = opt.replace('x', '×');
            sizeSelect.appendChild(option);
        });
    }
    orientationSelect.addEventListener('change', updateSizes);
    updateSizes();

    function showSpinner(show) {
        spinner.style.display = show ? 'block' : 'none';
        generateBtn.disabled = show;
        statusMessage.textContent = show ? 'Generating...' : '';
        imageOutput.style.display = 'none';
        downloadBtn.style.display = 'none';
    }

    async function fetchImageUrl(prompt, width, height, retries = 3, delay = 1000) {
        const query = encodeURIComponent(prompt || 'random');
        const url = `https://picsum.photos/${width}/${height}?${query}`;
        for (let i = 0; i < retries; i++) {
            try {
                const response = await fetch(url);
                if (response.ok) {
                    return url;
                }
                console.warn(`Attempt ${i + 1} failed for ${url}`);
                if (i < retries - 1) await new Promise(resolve => setTimeout(resolve, delay));
            } catch (error) {
                console.error(`Error fetching image (attempt ${i + 1}):`, error);
                if (i < retries - 1) await new Promise(resolve => setTimeout(resolve, delay));
            }
        }
        console.error('All retries failed, using fallback image');
        return `https://picsum.photos/${width}/${height}`; // Fallback to default image
    }

    generateBtn.addEventListener('click', async () => {
        showSpinner(true);
        const [width, height] = sizeSelect.value.split('x').map(Number);
        const prompt = promptInput.value.trim() || 'random';
        try {
            const url = await fetchImageUrl(prompt, width, height);
            const img = new Image();
            img.crossOrigin = 'anonymous';
            img.src = url;
            img.onload = () => {
                imageOutput.width = width;
                imageOutput.height = height;
                ctx.drawImage(img, 0, 0, width, height);
                ctx.fillStyle = 'white';
                ctx.font = `bold ${Math.round(height / 20)}px Arial`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'bottom';
                ctx.fillText(prompt, width / 2, height - 10);
                showSpinner(false);
                imageOutput.style.display = 'block';
                downloadBtn.style.display = 'inline-block';
                statusMessage.textContent = 'Image generated successfully!';
            };
            img.onerror = () => {
                showSpinner(false);
                statusMessage.textContent = "The image couldn't be generated";
            };
        } catch (error) {
            showSpinner(false);
            statusMessage.textContent = "The image couldn't be generated";
        }
    });

    downloadBtn.addEventListener('click', () => {
        const link = document.createElement('a');
        link.href = imageOutput.toDataURL('image/png');
        link.download = 'generated.png';
        link.click();
    });
}

function attachWindowInteractions(win) {
    let isDragging = false;
    let offsetX, offsetY;

    function startDrag(e) {
        if (e.target.closest('.close-btn') || e.target.closest('textarea') || e.target.closest('select') || e.target.closest('button')) {
            return;
        }
        isDragging = true;
        win.style.zIndex = 1000;
        const clientX = e.touches ? e.touches[0].clientX : e.clientX;
        const clientY = e.touches ? e.touches[0].clientY : e.clientY;
        offsetX = clientX - (parseInt(win.style.left) || win.offsetLeft);
        offsetY = clientY - (parseInt(win.style.top) || win.offsetTop);
        win.stopMoving && win.stopMoving();
        e.preventDefault();
        desktop.addEventListener('mousemove', drag);
        desktop.addEventListener('touchmove', drag);
        desktop.addEventListener('mouseup', endDrag);
        desktop.addEventListener('touchend', endDrag);
    }

    function drag(e) {
        if (!isDragging) return;
        const clientX = e.touches ? e.touches[0].clientX : e.clientX;
        const clientY = e.touches ? e.touches[0].clientY : e.clientY;

        let newLeft = clientX - offsetX;
        let newTop = clientY - offsetY;

        const scaledWidth = parseInt(win.style.width) * 0.72; // Account for window scale
        const scaledHeight = parseInt(win.style.height) * 0.72;
        newLeft = Math.max(0, Math.min(newLeft, window.innerWidth - scaledWidth));
        newTop = Math.max(0, Math.min(newTop, window.innerHeight - scaledHeight));

        win.style.left = newLeft + 'px';
        win.style.top = newTop + 'px';

        if (win.id === 'txt2img-window') {
            createGreenTrail(win);
        } else if (win.classList.contains('glitch-trail')) {
            createGlitchTrail(win);
        } else {
            createWindowCopy(win);
        }
    }

    function endDrag() {
        isDragging = false;
        desktop.removeEventListener('mousemove', drag);
        desktop.removeEventListener('touchmove', drag);
        desktop.removeEventListener('mouseup', endDrag);
        desktop.removeEventListener('touchend', endDrag);
        if (win.id !== 'txt2img-window') {
            win.startMoving && win.startMoving();
        }
    }

    win.addEventListener('mousedown', startDrag);
    win.addEventListener('touchstart', startDrag, { passive: false });

    const closeBtn = win.querySelector('.close-btn');
    if (closeBtn) {
        closeBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            win.stopMoving && win.stopMoving();
            win.remove();
        });
    }
}

const windows = Array.from(windowsNodeList);
windows.forEach(win => {
    attachWindowInteractions(win);
    if (win.id !== 'txt2img-window') {
        moveWindow(win);
        win.startMoving();
    }
});

const cursors = document.querySelectorAll('.cursor');
cursors.forEach(cursor => {
    cursor.style.left = `${Math.random() * window.innerWidth}px`;
    cursor.style.top = `${Math.random() * window.innerHeight}px`;
});
cursors.forEach(cursor => {
    function drift() {
        const dx = (Math.random() - 0.5) * 100;
        const dy = (Math.random() - 0.5) * 100;
        cursor.animate(
            [{ transform: 'translate(0,0)' }, { transform: `translate(${dx}px,${dy}px)` }],
            { duration: 5000 + Math.random() * 5000, direction: 'alternate', iterations: Infinity, easing: 'ease-in-out' }
        );
    }
    drift();
});

function moveIcon(icon, speed = 1) {
    const dx = (Math.random() - 0.5) * 100 * speed;
    const dy = (Math.random() - 0.5) * 100 * speed;
    const scaledWidth = 80 * 0.9; // Account for icon scale
    const scaledHeight = 80 * 0.9;
    icon.animate(
        [
            { transform: `translate(${Math.random() * (window.innerWidth - scaledWidth)}px, ${Math.random() * (window.innerHeight - scaledHeight)}px)` },
            { transform: `translate(${dx + Math.random() * (window.innerWidth - scaledWidth)}px, ${dy + Math.random() * (window.innerHeight - scaledHeight)}px)` }
        ],
        { duration: 6000 + Math.random() * 2000, direction: 'alternate', iterations: Infinity, easing: 'ease-in-out' }
    );
}

icons.forEach(icon => {
    if (!icon.classList.contains('fixed-icon') && !icon.classList.contains('fixed-icon-2') && !icon.classList.contains('fixed-icon-3') && !icon.classList.contains('fixed-icon-4') && !icon.classList.contains('fixed-icon-5')) {
        moveIcon(icon);
    }
});

function triggerFall() {
    const allItems = document.querySelectorAll('.window, .icon');
    allItems.forEach(item => {
        item.style.transition = 'transform 1s ease-in';
        item.style.transform = 'translateY(200vh)';
    });
    setTimeout(() => {
        showBlackScreen();
    }, 1500);
}

function showBlueScreen() {
    blueScreen.style.display = 'flex';
    setTimeout(() => {
        window.location.reload();
    }, 10000);
}

function showBlackScreen() {
    blackScreen.style.display = 'flex';
    setTimeout(() => {
        window.location.reload();
    }, 10000);
}

restartButtons.forEach(button => {
    button.addEventListener('click', () => {
        window.location.reload();
    });
});

document.addEventListener('mousemove', e => {
    const pointer = document.getElementById('moving-pointer');
    if (pointer) {
        pointer.style.left = e.pageX + 'px';
        pointer.style.top = e.pageY + 'px';
    }
});

document.addEventListener('touchmove', e => {
    const pointer = document.getElementById('moving-pointer');
    if (pointer && e.touches.length) {
        pointer.style.left = e.touches[0].pageX + 'px';
        pointer.style.top = e.touches[0].pageY + 'px';
    }
}, { passive: true });

document.body.addEventListener('dblclick', () => {
    const newText = document.createElement('h1');
    newText.textContent = 'SYSTEM CORRUPTION';
    newText.style.position = 'fixed';
    newText.style.top = '50%';
    newText.style.left = '50%';
    newText.style.transform = 'translate(-50%,-50%)';
    newText.style.color = '#ff0000';
    newText.style.textShadow = '2px 2px 5px #00ffff';
    newText.style.zIndex = '1000';
    document.body.appendChild(newText);
    setTimeout(() => newText.remove(), 5000);
});

startButton.addEventListener('click', () => {
    const surpriseWin = document.createElement('div');
    surpriseWin.className = 'window';
    const w = 420;
    const h = 220;
    surpriseWin.style.width = w + 'px';
    surpriseWin.style.height = h + 'px';
    surpriseWin.style.left = (window.innerWidth / 2 - w / 2) + 'px';
    surpriseWin.style.top = (window.innerHeight / 2 - h / 2) + 'px';
    surpriseWin.style.zIndex = 2000;
    surpriseWin.innerHTML = '<div class="window-bar"><span>SURPRISE</span><button class="close-btn">x</button></div><div class="window-content surprise-style"><p style="margin:0 0 8px 0;font-weight:bold;">you found a surprise</p><img src="https://i.giphy.com/media/hKxV68l0K3gT6/giphy.gif" alt="vaporwave" style="max-width:90%;max-height:110px;border-radius:6px"/><p style="margin-top:8px;font-size:12px;color:#333;">(press the X to close)</p></div>';
    desktop.appendChild(surpriseWin);
    attachWindowInteractions(surpriseWin);
    createWindowCopy(surpriseWin);
    moveWindow(surpriseWin);
    surpriseWin.startMoving();
});
startButton.classList.remove('purple-start');

if (cursedImage3) {
    const cursedContent = cursedImage3.querySelector('.window-content');
    if (cursedContent) {
        cursedContent.addEventListener('click', (e) => {
            if (!e.target.closest('.window-bar') && !e.target.closest('.close-btn')) {
                triggerFall();
            }
        });
    }
}

lambruscoIcon.addEventListener('click', () => {
    document.body.classList.add('lambrusco-background');
    const drunkItems = document.querySelectorAll('.window, .icon:not(.fixed-icon):not(.fixed-icon-2):not(.fixed-icon-3):not(.fixed-icon-4):not(.fixed-icon-5)');
    drunkItems.forEach(item => {
        item.classList.add('lambrusco-effect');
    });
    lambruscoText.style.display = 'block';
    taskbarMessage.textContent = "MUST BE LAMBRUSCO TIME SOMEWHERE";
    setTimeout(() => {
        document.body.classList.remove('lambrusco-background');
        drunkItems.forEach(item => {
            item.classList.remove('lambrusco-effect');
        });
        lambruscoText.style.display = 'none';
        taskbarMessage.textContent = "";
    }, 6000);
});

shredIcon.addEventListener('click', () => {
    const allItems = document.querySelectorAll('.window, .icon, #moving-pointer, #palm3d, #knife3d');
    const desktop = document.querySelector('.desktop');
    const body = document.body;

    allItems.forEach(item => {
        item.classList.add('glitch-filter');
    });

    windowsNodeList.forEach(win => {
        win.classList.add('glitch-trail');
    });

    body.style.animation = 'none';
    body.style.backgroundColor = '#000';

    desktop.style.animation = 'shake 0.1s infinite';

    const interval = setInterval(() => {
        desktop.style.filter = `hue-rotate(${Math.random() * 360}deg) saturate(${100 + Math.random() * 200}%) brightness(${100 + Math.random() * 100}%)`;
    }, 50);

    setTimeout(() => {
        clearInterval(interval);
        desktop.style.filter = 'none';
        desktop.style.animation = '';
        body.style.animation = 'psychedelic 10s ease infinite';
        body.style.backgroundColor = '';
        allItems.forEach(item => {
            item.classList.remove('glitch-filter');
        });
        windowsNodeList.forEach(win => {
            win.classList.remove('glitch-trail');
        });
    }, 6000);
});

jokeIcon.addEventListener('click', createJokeWindow);

txt2imgIcon.addEventListener('click', createTxt2ImgWindow);

function updateClock() {
    const clock = document.getElementById('clock');
    const now = new Date();
    if (clock) clock.textContent = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;
}
setInterval(updateClock, 1000);
updateClock();

const observer = new MutationObserver((mutations) => {
    for (const m of mutations) {
        for (const node of m.addedNodes) {
            if (node.nodeType === 1) {
                if (node.classList && node.classList.contains('window')) {
                    attachWindowInteractions(node);
                    if (node.id !== 'txt2img-window') {
                        moveWindow(node);
                        node.startMoving();
                    } else {
                        moveWindow(node); // Initialize movement functions but don't start
                    }
                }
                if (node.classList && node.classList.contains('icon')) {
                    moveIcon(node);
                }
            }
        }
    }
});
observer.observe(desktop, { childList: true, subtree: true });
</script>
<script type="module">
import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.module.js';
const container = document.createElement('div');
container.id = 'palm3d';
container.style.position = 'fixed';
container.style.left = '0';
container.style.top = '0';
container.style.width = '100%';
container.style.height = '100%';
container.style.pointerEvents = 'none';
container.style.zIndex = '10';
document.body.appendChild(container);
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 100);
camera.position.set(0, 1.5, 5);
const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.shadowMap.enabled = false;
renderer.domElement.style.pointerEvents = 'none';
container.appendChild(renderer.domElement);
const hemi = new THREE.HemisphereLight(0xffffff, 0x444444, 0.9);
scene.add(hemi);
const dir = new THREE.DirectionalLight(0xffffff, 0.8);
dir.position.set(3, 5, 2);
scene.add(dir);
const palm = new THREE.Group();
scene.add(palm);
const brown = new THREE.MeshPhongMaterial({ color: 0x8b5a2b, flatShading: true, shininess: 10 });
const green = new THREE.MeshPhongMaterial({ color: 0x2aa84a, flatShading: true, shininess: 20 });
const nutMat = new THREE.MeshPhongMaterial({ color: 0x5c3b1a, flatShading: true, shininess: 5 });
const trunk = new THREE.Group();
palm.add(trunk);
const segments = 9;
const h = 1.9;
for (let i = 0; i < segments; i++) {
    const t = i / (segments - 1);
    const topR = 0.12 - t * 0.06;
    const botR = 0.15 - t * 0.06;
    const seg = new THREE.Mesh(new THREE.CylinderGeometry(topR, botR, h / segments, 6, 1), brown);
    seg.position.y = (i + 0.5) * (h / segments);
    seg.rotation.z = Math.sin(i * 0.45) * 0.08;
    trunk.add(seg);
}
const crown = new THREE.Group();
crown.position.y = h + 0.05;
palm.add(crown);
const leafCount = 7;
for (let i = 0; i < leafCount; i++) {
    const leaf = new THREE.Group();
    const spine = new THREE.Mesh(new THREE.BoxGeometry(0.05, 0.05, 1.2), green);
    spine.position.z = 0.6;
    leaf.add(spine);
    const tri = new THREE.BufferGeometry();
    const verts = new Float32Array([0, 0, 0.8, -0.05, 0, 1.1, 0.05, 0, 1.1]);
    tri.setAttribute('position', new THREE.BufferAttribute(verts, 3));
    tri.computeVertexNormals();
    const blade = new THREE.Mesh(tri, green);
    blade.position.z = 0.05;
    leaf.add(blade);
    leaf.rotation.y = (i / leafCount) * Math.PI * 2;
    leaf.rotation.x = -0.7 + Math.random() * 0.2;
    crown.add(leaf);
}
for (let i = 0; i < 3; i++) {
    const nut = new THREE.Mesh(new THREE.SphereGeometry(0.09, 6, 6), nutMat);
    const a = (i / 3) * Math.PI * 2;
    nut.position.set(Math.cos(a) * 0.18, -0.08, Math.sin(a) * 0.18);
    crown.add(nut);
}
palm.scale.set(0.65, 0.65, 0.65);
let posX = window.innerWidth / 2;
let posY = window.innerHeight / 2;
let velX = (Math.random() - 0.5) * 6;
let velY = (Math.random() - 0.5) * 6;
function animate() {
    requestAnimationFrame(animate);
    palm.rotation.y += 0.01;
    crown.rotation.x = Math.sin(Date.now() * 0.002) * 0.08;
    posX += velX;
    posY += velY;
    if (posX < 100 || posX > window.innerWidth - 100) velX *= -1;
    if (posY < 150 || posY > window.innerHeight - 150) velY *= -1;
    palm.position.x = (posX - window.innerWidth / 2) / 120;
    palm.position.y = (posY - window.innerHeight / 2) / 120;
    renderer.render(scene, camera);
}
animate();
window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>
</body>
</html>
